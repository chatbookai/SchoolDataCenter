import{ab as t,Z as n,j as A,ac as E,ad as U,ae as V,d as B,r as h,c as N,n as k,b as c,w as m,u as a,F as G,o as j,af as u,h as K}from"./index-3efa3bcd.js";import{l as _}from"./index-243612e8.js";import{_ as $}from"./index.vue_vue_type_script_setup_true_lang-79980f2a.js";import{u as I,a as z}from"./chartEditStore-1e6a587f.js";import{l as F}from"./plugin-52ae8d1b.js";import{i as b}from"./icon-f6cbc454.js";const{CopyIcon:W,CutIcon:Y,ClipboardOutlineIcon:X,TrashIcon:Z,ChevronDownIcon:q,ChevronUpIcon:J,LockOpenOutlineIcon:Q,LockClosedOutlineIcon:ee,EyeOutlineIcon:te,EyeOffOutlineIcon:oe}=b.ionicons5,{UpToTopIcon:ne,DownToBottomIcon:ae,PaintBrushIcon:le,Carbon3DSoftwareIcon:re,Carbon3DCursorIcon:ie}=b.carbon,e=I(),O=(o=3)=>({type:"divider",key:`d${o}`}),f=[{label:"锁定",key:t.LOCK,icon:n(ee),fnHandle:e.setLock},{label:"解锁",key:t.UNLOCK,icon:n(Q),fnHandle:e.setUnLock},{label:"隐藏",key:t.HIDE,icon:n(oe),fnHandle:e.setHide},{label:"显示",key:t.SHOW,icon:n(te),fnHandle:e.setShow},{type:"divider",key:"d0"},{label:"复制",key:t.COPY,icon:n(W),fnHandle:e.setCopy},{label:"剪切",key:t.CUT,icon:n(Y),fnHandle:e.setCut},{label:"粘贴",key:t.PARSE,icon:n(X),fnHandle:e.setParse},{type:"divider",key:"d1"},{label:"置顶",key:t.TOP,icon:n(ne),fnHandle:e.setTop},{label:"置底",key:t.BOTTOM,icon:n(ae),fnHandle:e.setBottom},{label:"上移",key:t.UP,icon:n(J),fnHandle:e.setUp},{label:"下移",key:t.DOWN,icon:n(q),fnHandle:e.setDown},{type:"divider",key:"d2"},{label:"清空剪贴板",key:t.CLEAR,icon:n(le),fnHandle:e.setRecordChart},{label:"删除",key:t.DELETE,icon:n(Z),fnHandle:e.removeComponentList}],y=[{label:"创建分组",key:t.GROUP,icon:n(re),fnHandle:e.setGroup},{label:"解除分组",key:t.UN_GROUP,icon:n(ie),fnHandle:e.setUnGroup}],se=[t.PARSE,t.CLEAR],S=(o,l)=>{if(!l)return o;const r=[];return l.forEach(d=>{r.push(...o.filter(i=>i.key===d))}),r},ce=(o,l)=>l?o.filter(r=>l.findIndex(d=>d!==r.key)!==-1):o,s=A([]),de=(o,l,r,d,i)=>{o.stopPropagation(),o.preventDefault();let p=o.target;for(;p instanceof SVGElement;)p=p.parentNode;e.setTargetSelectChart(l&&l.id),e.setRightMenuShow(!1),e.getTargetChart.selectId.length>1?s.value=y:s.value=f,l||(s.value=S(E(s.value),se)),d&&(s.value=ce([...y,O(),...f],d)),i&&(s.value=S([...y,O(),...f],i)),r&&(s.value=r(U(E(s.value)),[...y,...f],l)),V().then(()=>{e.setMousePosition(o.clientX,o.clientY),e.setRightMenuShow(!0)})},ue=()=>(s.value=f,{menuOptions:s,defaultOptions:f,defaultMultiSelectOptions:y,handleContextMenu:de,onClickOutSide:()=>{e.setRightMenuShow(!1)},handleMenuSelect:r=>{e.setRightMenuShow(!1);const d=s.value.filter(i=>i.key===r);s.value.forEach(i=>{if(i.key===r){if(i.fnHandle){i.fnHandle();return}d||F()}})},mousePosition:e.getMousePosition}),_e={class:"go-chart"},fe={style:{overflow:"hidden",display:"flex"}},pe=B({__name:"index",setup(o){const l=z(),r=I();l.canvasInit(r.getEditCanvas);const d=_(()=>u(()=>import("./index-ec2d8eac.js"),["./index-ec2d8eac.js","./index-3efa3bcd.js","..\\css\\index-c424a8b4.css","./plugin-52ae8d1b.js","./icon-f6cbc454.js","./useKeyboard.hook-875fbcac.js","./chartEditStore-1e6a587f.js","./useSync.hook-e4169a36.js","./chartLayoutStore-db3d2e1b.js","./index-a77faccb.js","./SettingItem-aacbe70b.js","..\\css\\StylesSetting-7d8c33a3.css","./SettingItemBox-94318b9b.js","./CollapseItem.vue_vue_type_script_setup_true_lang-bd202dab.js","./index.esm.min-21e18cb2.js","./fileTypeEnum-21359a08.js","..\\css\\index-0cb178f1.css","./project.api-31a95c84.js","..\\css\\index-aa3d007d.css"],import.meta.url)),i=_(()=>u(()=>import("./index-cfb81bc4.js"),["./index-cfb81bc4.js","./index-3efa3bcd.js","..\\css\\index-c424a8b4.css","./index-243612e8.js","./icon-f6cbc454.js","..\\css\\index-cfab4f5b.css","./chartEditStore-1e6a587f.js","./plugin-52ae8d1b.js","./useSyncUpdate.hook-1944a622.js","./useSync.hook-e4169a36.js","./chartLayoutStore-db3d2e1b.js","./index-a77faccb.js","./SettingItem-aacbe70b.js","..\\css\\StylesSetting-7d8c33a3.css","./SettingItemBox-94318b9b.js","./CollapseItem.vue_vue_type_script_setup_true_lang-bd202dab.js","./index.esm.min-21e18cb2.js","./fileTypeEnum-21359a08.js","..\\css\\index-0cb178f1.css","./project.api-31a95c84.js","..\\css\\index-2e2fa49a.css"],import.meta.url)),p=_(()=>u(()=>import("./index-237d4ffa.js"),["./index-237d4ffa.js","./index-3efa3bcd.js","..\\css\\index-c424a8b4.css","./icon-f6cbc454.js","./chartEditStore-1e6a587f.js","./plugin-52ae8d1b.js","./project.api-31a95c84.js","./useSync.hook-e4169a36.js","./chartLayoutStore-db3d2e1b.js","./index-a77faccb.js","./SettingItem-aacbe70b.js","..\\css\\StylesSetting-7d8c33a3.css","./SettingItemBox-94318b9b.js","./CollapseItem.vue_vue_type_script_setup_true_lang-bd202dab.js","./index.esm.min-21e18cb2.js","./fileTypeEnum-21359a08.js","..\\css\\index-0cb178f1.css","..\\css\\index-83eeb986.css"],import.meta.url)),H=_(()=>u(()=>import("./index-773f393b.js"),["./index-773f393b.js","./index-3efa3bcd.js","..\\css\\index-c424a8b4.css","./index-9922ee7a.js","./icon-f6cbc454.js","..\\css\\index-4c6e2655.css","./chartLayoutStore-db3d2e1b.js","./chartEditStore-1e6a587f.js","./plugin-52ae8d1b.js","./index-a77faccb.js","./SettingItem-aacbe70b.js","..\\css\\StylesSetting-7d8c33a3.css","./SettingItemBox-94318b9b.js","./CollapseItem.vue_vue_type_script_setup_true_lang-bd202dab.js","./index.esm.min-21e18cb2.js","./fileTypeEnum-21359a08.js","..\\css\\index-0cb178f1.css","./index-243612e8.js","..\\css\\index-cfab4f5b.css","./index.vue_vue_type_script_setup_true_lang-79980f2a.js","..\\css\\index-6daee8a7.css","..\\css\\index-a8b9ba7b.css"],import.meta.url)),g=_(()=>u(()=>import("./index-00760559.js").then(C=>C.i),["./index-00760559.js","./index-3efa3bcd.js","..\\css\\index-c424a8b4.css","./index-9922ee7a.js","./icon-f6cbc454.js","..\\css\\index-4c6e2655.css","./index-243612e8.js","..\\css\\index-cfab4f5b.css","./index-a77faccb.js","./SettingItem-aacbe70b.js","..\\css\\StylesSetting-7d8c33a3.css","./SettingItemBox-94318b9b.js","./CollapseItem.vue_vue_type_script_setup_true_lang-bd202dab.js","./chartEditStore-1e6a587f.js","./plugin-52ae8d1b.js","./index.esm.min-21e18cb2.js","./fileTypeEnum-21359a08.js","..\\css\\index-0cb178f1.css","./chartLayoutStore-db3d2e1b.js","..\\css\\index-0fdaec7e.css"],import.meta.url)),P=_(()=>u(()=>import("./index-06c3db5e.js"),["./index-06c3db5e.js","./index-3efa3bcd.js","..\\css\\index-c424a8b4.css","./index-243612e8.js","./icon-f6cbc454.js","..\\css\\index-cfab4f5b.css","./index-9922ee7a.js","..\\css\\index-4c6e2655.css","./chartLayoutStore-db3d2e1b.js","./chartEditStore-1e6a587f.js","./plugin-52ae8d1b.js","..\\css\\index-12783f34.css"],import.meta.url)),T=_(()=>u(()=>import("./index-ca1ffef9.js"),["./index-ca1ffef9.js","./chartLayoutStore-db3d2e1b.js","./index-3efa3bcd.js","..\\css\\index-c424a8b4.css","./chartEditStore-1e6a587f.js","./plugin-52ae8d1b.js","./icon-f6cbc454.js"],import.meta.url)),{menuOptions:R,onClickOutSide:w,mousePosition:v,handleMenuSelect:x}=ue();return(C,ye)=>{const D=h("n-layout-content"),L=h("n-layout"),M=h("n-dropdown");return j(),N(G,null,[k("div",_e,[c(L,null,{default:m(()=>[c(a($),null,{left:m(()=>[c(a(d))]),center:m(()=>[c(a(p))]),"ri-left":m(()=>[c(a(i))]),_:1}),c(D,{"content-style":"overflow:hidden; display: flex"},{default:m(()=>[k("div",fe,[c(a(g)),c(a(H))]),c(a(P))]),_:1})]),_:1})]),c(M,{placement:"bottom-start",trigger:"manual",size:"small",x:a(v).x,y:a(v).y,options:a(R),show:a(r).getRightMenuShow,"on-clickoutside":a(w),onSelect:a(x)},null,8,["x","y","options","show","on-clickoutside","onSelect"]),c(a(T))],64)}}});const me=K(pe,[["__scopeId","data-v-0d90f270"]]),Se=Object.freeze(Object.defineProperty({__proto__:null,default:me},Symbol.toStringTag,{value:"Module"}));export{O as d,Se as i,ue as u};
